<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-1.22.0.css">
    <script src="https://code.jquery.com/qunit/qunit-1.22.0.js"></script>
    <title>Qunit Calc</title>
</head>

<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>

    <script>
        class Calculator {
            // Функция для сложения двух чисел
            add(a, b) {
                return a + b;
            }

            // Функция для вычитания одного числа из другого
            subtract(a, b) {
                return a - b;
            }

            // Функция для умножения двух чисел
            multiply(a, b) {
                return a * b;
            }

            // Функция для деления одного числа на другое
            divide(a, b) {
                if (b === 0) {
                    return "Ошибка: Деление на ноль!";
                }
                return a / b;
            }
        }

        const calc = new Calculator();

        QUnit.test("TestAdd", function (assert) {
            var result = calc.add(2, 3);
            assert.equal(result, "5", "2+3=5");
        });

        QUnit.test("TestAdd", function (assert) {
            var result = calc.add(6, 12);
            assert.equal(result, "18", "6+12=18");
        });

        QUnit.test("TestSubtract", function (assert) {
            var result = calc.subtract(10, 8);
            assert.equal(result, "2", "10-8=2");
        });

        QUnit.test("TestSubtract", function (assert) {
            var result = calc.subtract(45, 32);
            assert.equal(result, "13", "45-32=13");
        });

        QUnit.test("TestMultiply", function (assert) {
            var result = calc.multiply(8, 4);
            assert.equal(result, "32", "8*4=32");
        });

        QUnit.test("TestMultiply", function (assert) {
            var result = calc.multiply(8, 8);
            assert.equal(result, "64", "8*8=64");
        });

        QUnit.test("TestDivide", function (assert) {
            var result = calc.divide(2, 0);
            assert.equal(result, "Ошибка: Деление на ноль!", "2/0 !!!");
        });

        QUnit.test("TestDivide", function (assert) {
            var result = calc.divide(10, 5);
            assert.equal(result, "2", "10/5=2");
        });


        // Вспомогательная функция для тестирование вывода в консоль


        QUnit.test("Проверка вывода в консоль calc.add(5, 3) в консоль", function (assert) {
            var oldLog = console.log;
            var loggedMessage = '';

            // Перехватываем console.log(), чтобы получить сообщение
            console.log = function (message) {
                loggedMessage = message;
            };
            console.log(calc.add(5, 3));

            // Проверяем, что вывод соответствует ожиданиям (преобразуем в строку)
            assert.strictEqual(loggedMessage.toString(), "8", "Вывод в консоль должен быть правильным: Выводит 8");
            // Восстанавливаем оригинальный console.log()
            console.log = oldLog;
        });
        console.log(calc.add(5, 3));

        QUnit.test("Проверка вывода в консоль calc.subtract(10, 6) в консоль", function (assert) {
            var oldLog = console.log;
            var loggedMessage = '';

            // Перехватываем console.log(), чтобы получить сообщение
            console.log = function (message) {
                loggedMessage = message;
            };
            console.log(calc.subtract(10, 6));

            // Проверяем, что вывод соответствует ожиданиям (преобразуем в строку)
            assert.strictEqual(loggedMessage.toString(), "4", "Вывод в консоль должен быть правильным: Выводит 4");
            // Восстанавливаем оригинальный console.log()
            console.log = oldLog;
        });
        console.log(calc.subtract(10, 6));


        QUnit.test("Проверка вывода в консоль calc.multiply(4, 7) в консоль", function (assert) {
            var oldLog = console.log;
            var loggedMessage = '';

            // Перехватываем console.log(), чтобы получить сообщение
            console.log = function (message) {
                loggedMessage = message;
            };
            console.log(calc.multiply(4, 7));

            // Проверяем, что вывод соответствует ожиданиям (преобразуем в строку)
            assert.strictEqual(loggedMessage.toString(), "28", "Вывод в консоль должен быть правильным: Выводит 28");
            // Восстанавливаем оригинальный console.log()
            console.log = oldLog;
        });
        console.log(calc.multiply(4, 7));


        QUnit.test("Проверка вывода в консоль calc.divide(20, 5) в консоль", function (assert) {
            var oldLog = console.log;
            var loggedMessage = '';

            // Перехватываем console.log(), чтобы получить сообщение
            console.log = function (message) {
                loggedMessage = message;
            };
            console.log(calc.divide(20, 5));

            // Проверяем, что вывод соответствует ожиданиям (преобразуем в строку)
            assert.strictEqual(loggedMessage.toString(), "4", "Вывод в консоль должен быть правильным: Выводит 4");
            // Восстанавливаем оригинальный console.log()
            console.log = oldLog;
        });
        console.log(calc.divide(20, 5));


        QUnit.test("Проверка вывода в консоль calc.divide(20, 0) в консоль", function (assert) {
            var oldLog = console.log;
            var loggedMessage = '';

            // Перехватываем console.log(), чтобы получить сообщение
            console.log = function (message) {
                loggedMessage = message;
            };
            console.log(calc.divide(20, 0));

            // Проверяем, что вывод соответствует ожиданиям (преобразуем в строку)
            assert.strictEqual(loggedMessage.toString(), "Ошибка: Деление на ноль!", "Вывод в консоль должен быть правильным: Выводит \"Ошибка: Деление на ноль!");
            // Восстанавливаем оригинальный console.log()
            console.log = oldLog;
        });
        console.log(calc.divide(20, 0));



    </script>

</body>

</html>